# CodeQuest セットアップガイド（やさしい日本語）

## はじめに

### 1. データベースを作る

1.  **データベースを作成**

    ``` sql
    CREATE DATABASE codequest;
    ```

2.  **データベースをインポート**

    -   phpMyAdmin を開く
    -   `codequest` を選ぶ
    -   「インポート」を押す
    -   `database.sql` を選ぶ
    -   「Go」を押す

### 2. データベース接続の設定

`db.php` を開いて、ログイン情報を変更します：

``` php
$host = "localhost";
$dbname = "codequest";
$username = "root";
$password = "";
```

### 3. サーバーを起動する

#### 方法 A：PHP 内蔵サーバー

``` bash
php -S localhost:8000
```

ブラウザで：`http://localhost:8000`

#### 方法 B：XAMPP

1.  プロジェクトを `C:\xampp\htdocs\space` に入れる
2.  Apache と MySQL を起動
3.  `http://localhost:8081/space/index.php` を開く

### 4. アプリのテスト

1.  アカウントを作る
2.  ログインする
3.  トピックを選ぶ（HTML / CSS / JS / PHP / SQL）
4.  クイズを受ける

## トラブル対処

### データベース接続エラー

-   MySQL が動いているか
-   データベース名が `codequest` か
-   `db.php` のユーザー名・パスワード
-   `SHOW DATABASES;` で確認

### 質問が表示されない

-   質問データがあるか
-   ブラウザのエラーを見る
-   `get_questions.php` を確認
-   PHP エラーログを見る

### セッションの問題

-   `session_start()` が一番上か
-   ブラウザのクッキー削除
-   ファイル権限を確認

### テーマ切り替えの問題

-   キャッシュを消す
-   `script.js` が読み込まれているか
-   localStorage を確認
-   ブラウザのエラー確認

## デフォルトデータ

-   合計 50 問（HTML / CSS / JS / PHP / SQL 各 10 問）
-   4 つの選択肢と説明付き

## 質問を追加する

``` sql
INSERT INTO questions (topic, question, option_a, option_b, option_c, option_d, correct_answer, explanation)
VALUES (
    'HTML',
    'Your question text?',
    'Option A',
    'Option B',
    'Option C',
    'Option D',
    'a',
    'Explanation'
);
```

## ファイル構成

    space/
    ├── database.sql
    ├── db.php
    ├── index.php
    ├── login.php
    ├── register.php
    ├── logout.php
    ├── quiz.php
    ├── quiz.js
    ├── get_questions.php
    ├── submit.php
    ├── leaderboard.php
    ├── profile.php
    ├── styles.css
    ├── script.js
    ├── README.md
    └── SETUP.md

## セキュリティ

-   パスワードは安全にハッシュ化
-   SQL インジェクション対策
-   セッションでログイン管理
-   `htmlspecialchars()` で入力チェック

## 次にやること

-   機能テスト
-   質問の追加
-   デザイン変更
-   サイトの公開

## サポート

-   ブラウザのエラー確認
-   PHP ログを見る
-   データベースチェック
-   ファイル配置を確認
